<!DOCTYPE html> 
<!--
  copyright (c) 2011 Google inc.

  You are free to copy and use this sample.
  License can be found here: http://code.google.com/apis/ajaxsearch/faq/#license

-->
<html> 
<head> 
<meta name="viewport" content="initial-scale=1.0, user-scalable=no" /> 
<meta http-equiv="content-type" content="text/html; charset=UTF-8"/> 

<title>Google Maps JavaScript API v3 Example: Fusion Tables Layer</title> 

<style>
  body { font-family: Arial, sans-serif; }
  #map_canvas { height: 900px; width:1200px; }
  #mini_map_canvas { height: 200px; width:200px; float: left; margin: 0 10px 10px 0; }
  
  #large {
		display: none;
		position: absolute;
		background: #FFFFFF;
		padding: 20px;
		z-index: 10;
		min-height: 200px;
		min-width: 500px;
		color: #336699;
		-moz-border-radius: 15px;
		border-radius: 15px;
	}
	
	#background {
		display: none;
		position: absolute;
		height: 100%;
		width: 100%;
		top: 0;
		left: 0;
		background: #000000;
		z-index: 1;
	}
	
	#close {
	  margin: 0px;
	  cursor: pointer;
	}
	
	#mug {
		float: left;
		margin: 0 10px 10px 0;
	}
	
	h2 {
		padding: 0px;
		margin: 0px;
	}
</style>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.4.2/jquery.min.js"></script>
<script type="text/javascript" src="http://maps.google.com/maps/api/js?sensor=false"></script> 
<script type="text/javascript">

var tableid = 411160;

function initialize() {

  var map = new google.maps.Map(document.getElementById('map_canvas'), {
    center: new google.maps.LatLng(37.4, -110.1),
    zoom: 4,
    mapTypeId: google.maps.MapTypeId.ROADMAP
  });
  
  var styles = [{
    polygonOptions: {
      fillColor: "#00FF00",
      fillOpacity: 0.5
    }
  }, {
    where: "party = 'Republican'",
    polygonOptions: {
      fillColor: "#FF0000"
    }
  }, {
    where: "party = 'Democrat'",
    polygonOptions: {
      fillColor: "#0000FF"
    }
  }];

  var layer = new google.maps.FusionTablesLayer({
    query: {
      select: "shape",
      from: tableid
    },
    map: map,
    options: {
      suppressInfoWindows: true
    },
    styles: styles
  });
  
  google.maps.event.addListener(layer, 'click', function(e) {
		
  	$("#background").css({"opacity" : "0.7"})
                            .fadeIn("slow");
 
		$("#large").html("<p style='float:right' id='close'>[X]</p>" +
										 "<div id='mini_map_canvas'></div>" + 
										 "<h2>" + e.row['name'].value + "<br />" + 
										 e.row['cid'].value + "</h2>" +
										 "<p>Voting history:</p>" + 
										 "<p>Bill 3: " + e.row['h2011-3.xml'].value + "<br />" +
										 "Bill 4: " + e.row['h2011-4.xml'].value + "</p>" +
										 "<p><a href='" + e.row['url'].value + "'>Website</a></p>")
					 .center()
					 .fadeIn("slow", function() {
					 		var mini_map = new google.maps.Map(document.getElementById('mini_map_canvas'), {
								center: new google.maps.LatLng(37.4, -110.1),
								zoom: 13,
								mapTypeId: google.maps.MapTypeId.ROADMAP,
								disableDefaultUI: true
							});
							
						  extent = states[e.row['state'].value].extent;
							var bounds = new google.maps.LatLngBounds();
							$.each(extent, function(i, ll){
								bounds.extend(new google.maps.LatLng(ll[1],ll[0]));
							});
							mini_map.fitBounds(bounds);
							
							var layer = new google.maps.FusionTablesLayer({
							  query: {
							    select: "shape",
							    from: tableid,
							    where: "cid = '" + e.row['cid'].value + "'"
							  },
							  options: {
							    suppressInfoWindows: true,
							    clickable: false
							  },
							  map: mini_map,
							  styles: styles
							});

							$("#close").click(function(){
								$("#background").fadeOut("slow");
								$("#large").fadeOut("slow");
							});
					 });
  });
}

jQuery.fn.center = function () {
	this.css("position","absolute");
	this.css("top", ( $(window).height() - this.height() ) / 2+$(window).scrollTop() + "px");
	this.css("left", ( $(window).width() - this.width() ) / 2+$(window).scrollLeft() + "px");
	return this;
}
 
$(document).ready(function() {	
	$("#background").click(function(){
		$("#background").fadeOut("slow");
		$("#large").fadeOut("slow");
	});
	
	$(document).keydown(function(e){
		if(e.keyCode==27) {
			$("#background").fadeOut("slow");
			$("#large").fadeOut("slow");
		}
	});

});

</script> 


</head> 
<body onload="initialize();"> 
  <div id="map_canvas"></div>
  <div id="large"></div>
  <div id="background"></div>
  
<script type="text/javascript">

var states = [
 {
  "fp": 2, 
  "name": "Alaska", 
  "extent": [
   [
    -179.23109400000001, 
    51.175091000000002
   ], 
   [
    -179.23109400000001, 
    71.441063
   ], 
   [
    179.85969499999999, 
    71.441063
   ], 
   [
    179.85969499999999, 
    51.175091000000002
   ]
  ], 
  "abbr": "AK"
 }, 
 {
  "fp": 1, 
  "name": "Alabama", 
  "extent": [
   [
    -88.473228000000006, 
    30.144424000000001
   ], 
   [
    -88.473228000000006, 
    35.008029999999998
   ], 
   [
    -84.888244999999998, 
    35.008029999999998
   ], 
   [
    -84.888244999999998, 
    30.144424000000001
   ]
  ], 
  "abbr": "AL"
 }, 
 {
  "fp": 5, 
  "name": "Arkansas", 
  "extent": [
   [
    -94.617919999999998, 
    33.004105000000003
   ], 
   [
    -94.617919999999998, 
    36.499752000000001
   ], 
   [
    -89.644835999999998, 
    36.499752000000001
   ], 
   [
    -89.644835999999998, 
    33.004105000000003
   ]
  ], 
  "abbr": "AR"
 }, 
 {
  "fp": 60, 
  "name": "American Samoa", 
  "extent": [
   [
    -171.11395300000001, 
    -14.665425000000001
   ], 
   [
    -171.11395300000001, 
    -11.025270000000001
   ], 
   [
    -168.07055700000001, 
    -11.025270000000001
   ], 
   [
    -168.07055700000001, 
    -14.665425000000001
   ]
  ], 
  "abbr": "AS"
 }, 
 {
  "fp": 4, 
  "name": "Arizona", 
  "extent": [
   [
    -114.816597, 
    31.332176
   ], 
   [
    -114.816597, 
    37.004261
   ], 
   [
    -109.045219, 
    37.004261
   ], 
   [
    -109.045219, 
    31.332176
   ]
  ], 
  "abbr": "AZ"
 }, 
 {
  "fp": 6, 
  "name": "California", 
  "extent": [
   [
    -124.48201, 
    32.528830999999997
   ], 
   [
    -124.48201, 
    42.009518
   ], 
   [
    -114.13121, 
    42.009518
   ], 
   [
    -114.13121, 
    32.528830999999997
   ]
  ], 
  "abbr": "CA"
 }, 
 {
  "fp": 8, 
  "name": "Colorado", 
  "extent": [
   [
    -109.06025699999999, 
    36.992420000000003
   ], 
   [
    -109.06025699999999, 
    41.003444999999999
   ], 
   [
    -102.040871, 
    41.003444999999999
   ], 
   [
    -102.040871, 
    36.992420000000003
   ]
  ], 
  "abbr": "CO"
 }, 
 {
  "fp": 9, 
  "name": "Connecticut", 
  "extent": [
   [
    -73.727776000000006, 
    40.950943000000002
   ], 
   [
    -73.727776000000006, 
    42.050590999999997
   ], 
   [
    -71.787231000000006, 
    42.050590999999997
   ], 
   [
    -71.787231000000006, 
    40.950943000000002
   ]
  ], 
  "abbr": "CT"
 }, 
 {
  "fp": 11, 
  "name": "District of Columbia", 
  "extent": [
   [
    -77.119765999999998, 
    38.791640999999998
   ], 
   [
    -77.119765999999998, 
    38.995547999999999
   ], 
   [
    -76.909385999999998, 
    38.995547999999999
   ], 
   [
    -76.909385999999998, 
    38.791640999999998
   ]
  ], 
  "abbr": "DC"
 }, 
 {
  "fp": 10, 
  "name": "Delaware", 
  "extent": [
   [
    -75.789153999999996, 
    38.451014999999998
   ], 
   [
    -75.789153999999996, 
    39.839485000000003
   ], 
   [
    -74.984161, 
    39.839485000000003
   ], 
   [
    -74.984161, 
    38.451014999999998
   ]
  ], 
  "abbr": "DE"
 }, 
 {
  "fp": 12, 
  "name": "Florida", 
  "extent": [
   [
    -87.634902999999994, 
    24.396307
   ], 
   [
    -87.634902999999994, 
    31.000969000000001
   ], 
   [
    -79.974304000000004, 
    31.000969000000001
   ], 
   [
    -79.974304000000004, 
    24.396307
   ]
  ], 
  "abbr": "FL"
 }, 
 {
  "fp": 13, 
  "name": "Georgia", 
  "extent": [
   [
    -85.605170999999999, 
    30.355591
   ], 
   [
    -85.605170999999999, 
    35.000660000000003
   ], 
   [
    -80.751427000000007, 
    35.000660000000003
   ], 
   [
    -80.751427000000007, 
    30.355591
   ]
  ], 
  "abbr": "GA"
 }, 
 {
  "fp": 66, 
  "name": "Guam", 
  "extent": [
   [
    144.56341599999999, 
    13.182335
   ], 
   [
    144.56341599999999, 
    13.70618
   ], 
   [
    145.00917100000001, 
    13.70618
   ], 
   [
    145.00917100000001, 
    13.182335
   ]
  ], 
  "abbr": "GU"
 }, 
 {
  "fp": 15, 
  "name": "Hawaii", 
  "extent": [
   [
    -178.44360399999999, 
    18.865459000000001
   ], 
   [
    -178.44360399999999, 
    28.517268999999999
   ], 
   [
    -154.75578300000001, 
    28.517268999999999
   ], 
   [
    -154.75578300000001, 
    18.865459000000001
   ]
  ], 
  "abbr": "HI"
 }, 
 {
  "fp": 19, 
  "name": "Iowa", 
  "extent": [
   [
    -96.639542000000006, 
    40.375435000000003
   ], 
   [
    -96.639542000000006, 
    43.501198000000002
   ], 
   [
    -90.140060000000005, 
    43.501198000000002
   ], 
   [
    -90.140060000000005, 
    40.375435000000003
   ]
  ], 
  "abbr": "IA"
 }, 
 {
  "fp": 16, 
  "name": "Idaho", 
  "extent": [
   [
    -117.24303399999999, 
    41.988002999999999
   ], 
   [
    -117.24303399999999, 
    49.001148000000001
   ], 
   [
    -111.043488, 
    49.001148000000001
   ], 
   [
    -111.043488, 
    41.988002999999999
   ]
  ], 
  "abbr": "ID"
 }, 
 {
  "fp": 17, 
  "name": "Illinois", 
  "extent": [
   [
    -91.513084000000006, 
    36.970295
   ], 
   [
    -91.513084000000006, 
    42.508338999999999
   ], 
   [
    -87.019927999999993, 
    42.508338999999999
   ], 
   [
    -87.019927999999993, 
    36.970295
   ]
  ], 
  "abbr": "IL"
 }, 
 {
  "fp": 18, 
  "name": "Indiana", 
  "extent": [
   [
    -88.097892999999999, 
    37.771740000000001
   ], 
   [
    -88.097892999999999, 
    41.761372000000001
   ], 
   [
    -84.784660000000002, 
    41.761372000000001
   ], 
   [
    -84.784660000000002, 
    37.771740000000001
   ]
  ], 
  "abbr": "IN"
 }, 
 {
  "fp": 20, 
  "name": "Kansas", 
  "extent": [
   [
    -102.051773, 
    36.993015
   ], 
   [
    -102.051773, 
    40.004542999999998
   ], 
   [
    -94.588386999999997, 
    40.004542999999998
   ], 
   [
    -94.588386999999997, 
    36.993015
   ]
  ], 
  "abbr": "KS"
 }, 
 {
  "fp": 21, 
  "name": "Kentucky", 
  "extent": [
   [
    -89.571510000000004, 
    36.497127999999996
   ], 
   [
    -89.571510000000004, 
    39.147461
   ], 
   [
    -81.964966000000004, 
    39.147461
   ], 
   [
    -81.964966000000004, 
    36.497127999999996
   ]
  ], 
  "abbr": "KY"
 }, 
 {
  "fp": 22, 
  "name": "Louisiana", 
  "extent": [
   [
    -94.043357999999998, 
    28.855125000000001
   ], 
   [
    -94.043357999999998, 
    33.019547000000003
   ], 
   [
    -88.758385000000004, 
    33.019547000000003
   ], 
   [
    -88.758385000000004, 
    28.855125000000001
   ]
  ], 
  "abbr": "LA"
 }, 
 {
  "fp": 25, 
  "name": "Massachusetts", 
  "extent": [
   [
    -73.508148000000006, 
    41.187049999999999
   ], 
   [
    -73.508148000000006, 
    42.886791000000002
   ], 
   [
    -69.858856000000003, 
    42.886791000000002
   ], 
   [
    -69.858856000000003, 
    41.187049999999999
   ]
  ], 
  "abbr": "MA"
 }, 
 {
  "fp": 24, 
  "name": "Maryland", 
  "extent": [
   [
    -79.487656000000001, 
    37.886603999999998
   ], 
   [
    -79.487656000000001, 
    39.723038000000003
   ], 
   [
    -74.986275000000006, 
    39.723038000000003
   ], 
   [
    -74.986275000000006, 
    37.886603999999998
   ]
  ], 
  "abbr": "MD"
 }, 
 {
  "fp": 23, 
  "name": "Maine", 
  "extent": [
   [
    -71.084334999999996, 
    42.917126000000003
   ], 
   [
    -71.084334999999996, 
    47.459685999999998
   ], 
   [
    -66.885070999999996, 
    47.459685999999998
   ], 
   [
    -66.885070999999996, 
    42.917126000000003
   ]
  ], 
  "abbr": "ME"
 }, 
 {
  "fp": 26, 
  "name": "Michigan", 
  "extent": [
   [
    -90.418137000000002, 
    41.696117000000001
   ], 
   [
    -90.418137000000002, 
    48.306064999999997
   ], 
   [
    -82.122971000000007, 
    48.306064999999997
   ], 
   [
    -82.122971000000007, 
    41.696117000000001
   ]
  ], 
  "abbr": "MI"
 }, 
 {
  "fp": 27, 
  "name": "Minnesota", 
  "extent": [
   [
    -97.239197000000004, 
    43.499358999999998
   ], 
   [
    -97.239197000000004, 
    49.384360999999998
   ], 
   [
    -89.483383000000003, 
    49.384360999999998
   ], 
   [
    -89.483383000000003, 
    43.499358999999998
   ]
  ], 
  "abbr": "MN"
 }, 
 {
  "fp": 29, 
  "name": "Missouri", 
  "extent": [
   [
    -95.774711999999994, 
    35.995682000000002
   ], 
   [
    -95.774711999999994, 
    40.613644000000001
   ], 
   [
    -89.099486999999996, 
    40.613644000000001
   ], 
   [
    -89.099486999999996, 
    35.995682000000002
   ]
  ], 
  "abbr": "MO"
 }, 
 {
  "fp": 69, 
  "name": "Commonwealth of the Northern Mariana Islands", 
  "extent": [
   [
    144.81332399999999, 
    14.036453
   ], 
   [
    144.81332399999999, 
    20.616555999999999
   ], 
   [
    146.15441899999999, 
    20.616555999999999
   ], 
   [
    146.15441899999999, 
    14.036453
   ]
  ], 
  "abbr": "MP"
 }, 
 {
  "fp": 28, 
  "name": "Mississippi", 
  "extent": [
   [
    -91.655013999999994, 
    30.146094999999999
   ], 
   [
    -91.655013999999994, 
    34.996108999999997
   ], 
   [
    -88.097885000000005, 
    34.996108999999997
   ], 
   [
    -88.097885000000005, 
    30.146094999999999
   ]
  ], 
  "abbr": "MS"
 }, 
 {
  "fp": 30, 
  "name": "Montana", 
  "extent": [
   [
    -116.050003, 
    44.358207999999998
   ], 
   [
    -116.050003, 
    49.001392000000003
   ], 
   [
    -104.039558, 
    49.001392000000003
   ], 
   [
    -104.039558, 
    44.358207999999998
   ]
  ], 
  "abbr": "MT"
 }, 
 {
  "fp": 37, 
  "name": "North Carolina", 
  "extent": [
   [
    -84.321877000000001, 
    33.752876000000001
   ], 
   [
    -84.321877000000001, 
    36.588158
   ], 
   [
    -75.400115999999997, 
    36.588158
   ], 
   [
    -75.400115999999997, 
    33.752876000000001
   ]
  ], 
  "abbr": "NC"
 }, 
 {
  "fp": 38, 
  "name": "North Dakota", 
  "extent": [
   [
    -104.05004099999999, 
    45.935070000000003
   ], 
   [
    -104.05004099999999, 
    49.000694000000003
   ], 
   [
    -96.554489000000004, 
    49.000694000000003
   ], 
   [
    -96.554489000000004, 
    45.935070000000003
   ]
  ], 
  "abbr": "ND"
 }, 
 {
  "fp": 31, 
  "name": "Nebraska", 
  "extent": [
   [
    -104.05352000000001, 
    39.999930999999997
   ], 
   [
    -104.05352000000001, 
    43.001708999999998
   ], 
   [
    -95.308289000000002, 
    43.001708999999998
   ], 
   [
    -95.308289000000002, 
    39.999930999999997
   ]
  ], 
  "abbr": "NE"
 }, 
 {
  "fp": 33, 
  "name": "New Hampshire", 
  "extent": [
   [
    -72.557190000000006, 
    42.696983000000003
   ], 
   [
    -72.557190000000006, 
    45.305477000000003
   ], 
   [
    -70.575089000000006, 
    45.305477000000003
   ], 
   [
    -70.575089000000006, 
    42.696983000000003
   ]
  ], 
  "abbr": "NH"
 }, 
 {
  "fp": 34, 
  "name": "New Jersey", 
  "extent": [
   [
    -75.563591000000002, 
    38.788654000000001
   ], 
   [
    -75.563591000000002, 
    41.357425999999997
   ], 
   [
    -73.885056000000006, 
    41.357425999999997
   ], 
   [
    -73.885056000000006, 
    38.788654000000001
   ]
  ], 
  "abbr": "NJ"
 }, 
 {
  "fp": 35, 
  "name": "New Mexico", 
  "extent": [
   [
    -109.050179, 
    31.332170000000001
   ], 
   [
    -109.050179, 
    37.000293999999997
   ], 
   [
    -103.00196099999999, 
    37.000293999999997
   ], 
   [
    -103.00196099999999, 
    31.332170000000001
   ]
  ], 
  "abbr": "NM"
 }, 
 {
  "fp": 32, 
  "name": "Nevada", 
  "extent": [
   [
    -120.006477, 
    35.001854000000002
   ], 
   [
    -120.006477, 
    42.002209000000001
   ], 
   [
    -114.039642, 
    42.002209000000001
   ], 
   [
    -114.039642, 
    35.001854000000002
   ]
  ], 
  "abbr": "NV"
 }, 
 {
  "fp": 36, 
  "name": "New York", 
  "extent": [
   [
    -79.762596000000002, 
    40.477398000000001
   ], 
   [
    -79.762596000000002, 
    45.015864999999998
   ], 
   [
    -71.777489000000003, 
    45.015864999999998
   ], 
   [
    -71.777489000000003, 
    40.477398000000001
   ]
  ], 
  "abbr": "NY"
 }, 
 {
  "fp": 39, 
  "name": "Ohio", 
  "extent": [
   [
    -84.820312000000001, 
    38.403419
   ], 
   [
    -84.820312000000001, 
    42.327133000000003
   ], 
   [
    -80.518196000000003, 
    42.327133000000003
   ], 
   [
    -80.518196000000003, 
    38.403419
   ]
  ], 
  "abbr": "OH"
 }, 
 {
  "fp": 40, 
  "name": "Oklahoma", 
  "extent": [
   [
    -103.00245700000001, 
    33.615783999999998
   ], 
   [
    -103.00245700000001, 
    37.002316
   ], 
   [
    -94.430655999999999, 
    37.002316
   ], 
   [
    -94.430655999999999, 
    33.615783999999998
   ]
  ], 
  "abbr": "OK"
 }, 
 {
  "fp": 41, 
  "name": "Oregon", 
  "extent": [
   [
    -124.70354500000001, 
    41.991790999999999
   ], 
   [
    -124.70354500000001, 
    46.299103000000002
   ], 
   [
    -116.463257, 
    46.299103000000002
   ], 
   [
    -116.463257, 
    41.991790999999999
   ]
  ], 
  "abbr": "OR"
 }, 
 {
  "fp": 42, 
  "name": "Pennsylvania", 
  "extent": [
   [
    -80.519897, 
    39.719794999999998
   ], 
   [
    -80.519897, 
    42.516075000000001
   ], 
   [
    -74.689498999999998, 
    42.516075000000001
   ], 
   [
    -74.689498999999998, 
    39.719794999999998
   ]
  ], 
  "abbr": "PA"
 }, 
 {
  "fp": 72, 
  "name": "Puerto Rico", 
  "extent": [
   [
    -67.998756, 
    17.831509
   ], 
   [
    -67.998756, 
    18.568003000000001
   ], 
   [
    -65.168503000000001, 
    18.568003000000001
   ], 
   [
    -65.168503000000001, 
    17.831509
   ]
  ], 
  "abbr": "PR"
 }, 
 {
  "fp": 44, 
  "name": "Rhode Island", 
  "extent": [
   [
    -71.907264999999995, 
    41.095832999999999
   ], 
   [
    -71.907264999999995, 
    42.018802999999998
   ], 
   [
    -71.088570000000004, 
    42.018802999999998
   ], 
   [
    -71.088570000000004, 
    41.095832999999999
   ]
  ], 
  "abbr": "RI"
 }, 
 {
  "fp": 45, 
  "name": "South Carolina", 
  "extent": [
   [
    -83.353935000000007, 
    32.033450999999999
   ], 
   [
    -83.353935000000007, 
    35.215541999999999
   ], 
   [
    -78.499297999999996, 
    35.215541999999999
   ], 
   [
    -78.499297999999996, 
    32.033450999999999
   ]
  ], 
  "abbr": "SC"
 }, 
 {
  "fp": 46, 
  "name": "South Dakota", 
  "extent": [
   [
    -104.057739, 
    42.479683000000001
   ], 
   [
    -104.057739, 
    45.945712999999998
   ], 
   [
    -96.436583999999996, 
    45.945712999999998
   ], 
   [
    -96.436583999999996, 
    42.479683000000001
   ]
  ], 
  "abbr": "SD"
 }, 
 {
  "fp": 47, 
  "name": "Tennessee", 
  "extent": [
   [
    -90.310303000000005, 
    34.982922000000002
   ], 
   [
    -90.310303000000005, 
    36.67812
   ], 
   [
    -81.646895999999998, 
    36.67812
   ], 
   [
    -81.646895999999998, 
    34.982922000000002
   ]
  ], 
  "abbr": "TN"
 }, 
 {
  "fp": 48, 
  "name": "Texas", 
  "extent": [
   [
    -106.645653, 
    25.837164000000001
   ], 
   [
    -106.645653, 
    36.500706000000001
   ], 
   [
    -93.508033999999995, 
    36.500706000000001
   ], 
   [
    -93.508033999999995, 
    25.837164000000001
   ]
  ], 
  "abbr": "TX"
 }, 
 {
  "fp": 49, 
  "name": "Utah", 
  "extent": [
   [
    -114.05300099999999, 
    36.997902000000003
   ], 
   [
    -114.05300099999999, 
    42.001621
   ], 
   [
    -109.041054, 
    42.001621
   ], 
   [
    -109.041054, 
    36.997902000000003
   ]
  ], 
  "abbr": "UT"
 }, 
 {
  "fp": 51, 
  "name": "Virginia", 
  "extent": [
   [
    -83.675415000000001, 
    36.540756000000002
   ], 
   [
    -83.675415000000001, 
    39.466014999999999
   ], 
   [
    -75.166427999999996, 
    39.466014999999999
   ], 
   [
    -75.166427999999996, 
    36.540756000000002
   ]
  ], 
  "abbr": "VA"
 }, 
 {
  "fp": 78, 
  "name": "Virgin Islands of the United States", 
  "extent": [
   [
    -65.159096000000005, 
    17.623466000000001
   ], 
   [
    -65.159096000000005, 
    18.464984999999999
   ], 
   [
    -64.512671999999995, 
    18.464984999999999
   ], 
   [
    -64.512671999999995, 
    17.623466000000001
   ]
  ], 
  "abbr": "VI"
 }, 
 {
  "fp": 50, 
  "name": "Vermont", 
  "extent": [
   [
    -73.437911999999997, 
    42.726849000000001
   ], 
   [
    -73.437911999999997, 
    45.016663000000001
   ], 
   [
    -71.465034000000003, 
    45.016663000000001
   ], 
   [
    -71.465034000000003, 
    42.726849000000001
   ]
  ], 
  "abbr": "VT"
 }, 
 {
  "fp": 53, 
  "name": "Washington", 
  "extent": [
   [
    -124.84897599999999, 
    45.543540999999998
   ], 
   [
    -124.84897599999999, 
    49.002495000000003
   ], 
   [
    -116.91557299999999, 
    49.002495000000003
   ], 
   [
    -116.91557299999999, 
    45.543540999999998
   ]
  ], 
  "abbr": "WA"
 }, 
 {
  "fp": 55, 
  "name": "Wisconsin", 
  "extent": [
   [
    -92.889435000000006, 
    42.491717999999999
   ], 
   [
    -92.889435000000006, 
    47.309821999999997
   ], 
   [
    -86.249542000000005, 
    47.309821999999997
   ], 
   [
    -86.249542000000005, 
    42.491717999999999
   ]
  ], 
  "abbr": "WI"
 }, 
 {
  "fp": 54, 
  "name": "West Virginia", 
  "extent": [
   [
    -82.644417000000004, 
    37.201537999999999
   ], 
   [
    -82.644417000000004, 
    40.638801999999998
   ], 
   [
    -77.718964, 
    40.638801999999998
   ], 
   [
    -77.718964, 
    37.201537999999999
   ]
  ], 
  "abbr": "WV"
 }, 
 {
  "fp": 56, 
  "name": "Wyoming", 
  "extent": [
   [
    -111.056892, 
    40.994743
   ], 
   [
    -111.056892, 
    45.005904999999998
   ], 
   [
    -104.052238, 
    45.005904999999998
   ], 
   [
    -104.052238, 
    40.994743
   ]
  ], 
  "abbr": "WY"
 }
]
addStates(states);
function addStates(obj) {
  //make available for later since we need extents on zoom
  $.each(obj, function(i, state){
    //don't add non-states
    if (state.fp > 56 || state.fp == 11){ return;}
    states[state.abbr] = state;
  });
}
</script>
</body> 
</html> 

