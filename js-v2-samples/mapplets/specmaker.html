<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<!--
 Copyright 2008 Google Inc. 
 Licensed under the Apache License, Version 2.0: 
 http://www.apache.org/licenses/LICENSE-2.0 
 -->
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:v="urn:schemas-microsoft-com:vml">
<head>
<style type="text/css">
td {
  border: 0px;
  padding: 0px;
  margin: 0px;
  height: 40px;
  font-size: 11pt;
}
body {
 font-family: Arial, sans serif;
 font-size: 11pt;
}
</style>
<script>

var map;
var mapKey;
var marker;

function updateCode() {
  document.getElementById("p_title").innerHTML = document.getElementById("title").value;
  document.getElementById("p_kmlUrl").innerHTML = document.getElementById("kmlUrl").value;
  document.getElementById("p_kmlUrl2").innerHTML = document.getElementById("kmlUrl").value;
  document.getElementById("p_author").innerHTML = document.getElementById("author").value;
  document.getElementById("p_author_email").innerHTML = document.getElementById("author_email").value;
  document.getElementById("p_description").innerHTML = document.getElementById("description").value;
  document.getElementById("p_thumbnail").innerHTML = document.getElementById("thumbnail").value;
  document.getElementById("p_screenshot").innerHTML = document.getElementById("screenshot").value;
}
</script>
<link rel="stylesheet" type="text/css" href="http://code.google.com/css/dev_docs.css">
</head>
<body>
<h2>Create a KML Mapplet</h2>

<h3><img src="http://www.google.com/uds/solutions/wizards/img/1b.gif" 
style="vertical-align:middle"/>Customize KML + Details </h3>
  <p>
  Enter URL of KML file (on public server):
  <br/>
  <input type="text" size="50" id="kmlUrl" value="" onkeyup="updateCode()" onkeypress="updateCode()" />
  <br/>
  Title of KML file: 
  <br/>
  <input type="text" size="50" id="title" value="" onkeyup="updateCode()" onkeypress="updateCode()" />
  <br/>
  Author name: 
  <br/>
  <input type="text" size="50" id="author" value="" onkeyup="updateCode()" onkeypress="updateCode()" />
  <br/>
  Author email:
  <br/>
  <input type="text" size="50" id="author_email" value="" onkeyup="updateCode()" onkeypress="updateCode()" />
  <br/>
  Description:
  <br/>
  <input type="text" size="50" id="description" value="" onkeyup="updateCode()" onkeypress="updateCode()" />
  <br/>
  Enter URL of thumbnail:
  <br/>
  <input type="text" size="50" id="thumbnail" value="" onkeyup="updateCode()" onkeypress="updateCode()" />
  <br/>
  Enter URL of screenshot:
  <br/>
  <input type="text" size="50" id="screenshot" value="" onkeyup="updateCode()" onkeypress="updateCode()" />
  <br/>
  </p>

<br clear="all"/>

<h3><img src="http://www.google.com/uds/solutions/wizards/img/2b.gif" 
style="vertical-align:middle"/>Copy XML to Server</h3>
<p>This is the generated XML that will work as both a Mapplet and an iGoogle Gadget.
Upload this XML to your server (or a Google Pages account) and <a href="http://maps.google.com/ig/submit?pid=mpl&synd=mpl">submit it to the Mapplets directory</a>.
</p>
<div id="generatedCodeDIV">
<pre class="code" id="gHeadCode" style="width: 700px; overflow-x: scroll;">
&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;Module&gt;
  &lt;ModulePrefs title="<span id="p_title"></span>" height="200" screenshot="<span id="p_screenshot"></span>" thumbnail="<span id="p_thumbnail"></span>" author="<span id="p_author"></span>" author_email="<span id="p_author_email"></span>" description="<span id="p_description"></span>"&gt;
    &lt;Require feature="geofeed"/&gt;
  &lt;/ModulePrefs&gt;
  &lt;UserPref name="_mpl_type" datatype="hidden" default_value="gf"&gt;&lt;/UserPref&gt;
  &lt;UserPref name="_mpl_data" datatype="hidden" default_value="<span id="p_kmlUrl"></span>"&gt;&lt;/UserPref&gt;
  &lt;Content&gt;
  &lt;![CDATA[
  &lt;script src="http://maps.google.com/maps?file=api&amp;v=2&amp;key=ABQIAAAAFNQS_3MQBgizoKtjzOCl9xTZqGWfQErE9pT-IucjscazSdFnjBTtN5WdcLz6wertAJ3co4-F5rYKJw" type="text/javascript"&gt;&lt;/script&gt;
  &lt;div id="geofeed_map" style="width: 100%; height: 200;"&gt;&lt;/div&gt;
  &lt;script&gt;
  _IG_RegisterOnloadHandler(function () {
    var map = new GMap2(document.getElementById("geofeed_map"));
    map.setCenter(new GLatLng(0,0), 1);
    map.enableDoubleClickZoom();
    map.enableContinuousZoom();
    map.addControl(new GSmallMapControl());
    map.addControl(new GMapTypeControl());
    var geoXml = new GGeoXml("<span id="p_kmlUrl2"></span>");
    map.addOverlay(geoXml);
    geoXml.gotoDefaultViewport(map);});
  &lt;/script&gt;
  ]]&gt;
  &lt;/Content&gt;
&lt;/Module&gt;
</pre>
</div>

</body>
</html>
