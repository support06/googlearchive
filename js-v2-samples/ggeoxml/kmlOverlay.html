<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" 
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<!--
 Copyright 2008 Google Inc. 
 Licensed under the Apache License, Version 2.0: 
 http://www.apache.org/licenses/LICENSE-2.0 
 -->
<html xmlns="http://www.w3.org/1999/xhtml" 
xmlns:v="urn:schemas-microsoft-com:vml">
  <head>
    <script src="http://maps.google.com/maps?file=api&amp;v=2&amp;key=ABQIAAAAjU0EJWnWPMv7oQ-jjS7dYxSPW5CJgpdgO_s4yyMovOaVh_KvvhSfpvagV18eOyDWu7VytS6Bi1CWxw"
      type="text/javascript"></script>
    <style type="text/css">
    v\:* {
      behavior:url(#default#VML);
    }
    </style>
    <script type="text/javascript"> 
   
    var map;
    var geoXml = new GGeoXml("http://nigel.tao.googlepages.com/blackbirds.kml");
    var toggleState = 1;

function onLoad() {
  if (GBrowserIsCompatible()) {
    map = new GMap2(document.getElementById("map")); 
    map.addControl(new GLargeMapControl());
    map.setCenter(new GLatLng(49.496675,-102.65625), 3); 
    map.addControl(new GLargeMapControl());
    map.addOverlay(geoXml);
  }
} 

function toggleMyKml() {
  if (toggleState == 1) {
    map.removeOverlay(geoXml);
    toggleState = 0;
  } else {
    map.addOverlay(geoXml);
    toggleState = 1;
  }
}
</script>

  </head>

  <body onload="onLoad()">

    <div id="map" style="width: 640px; height: 480px; float:left; border: 1px solid black;"></div>
    </div>

    <br clear="all"/>
    <br/>
    <input type="button" value="Toggle Markers" onClick="toggleMyKml();"/>
  </body>
</html>
