<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:v="urn:schemas-microsoft-com:vml">
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8"/>
    <title>Google Maps JavaScript API Example</title>
    <style type="text/css">
    v\:* {
      behavior:url(#default#VML);
    }
    </style>
    <link rel="stylesheet" type="text/css" href="http://www.google.com/apis/maps/documentation/local_extensions.css" />
    <script src="http://maps.google.com/maps?file=api&amp;v=2.x&amp;key=ABQIAAAAjU0EJWnWPMv7oQ-jjS7dYxSPW5CJgpdgO_s4yyMovOaVh_KvvhSfpvagV18eOyDWu7VytS6Bi1CWxw"
      type="text/javascript"></script>
    <script src="http://www.google.com/apis/maps/include/prettify.js" type="text/javascript"></script>
 
<script type="text/javascript">
   //<![CDATA[

   var map;

   function load() {
     if (GBrowserIsCompatible()) {
       map = new GMap2(document.getElementById("map"));
       map.setCenter(new GLatLng(40.713955826286046,-35.15625), 2);
       updateCode();
     }
   }

   function updateCode() {
     map.clearOverlays();
     var eventNames = ["click", "dblclick", "mousedown", "mouseup", 
                       "mouseover", "mouseout", "infowindowopen", 
                       "infowindowclose", "dragstart", "drag", "dragend", "remove"];

     var code = [];
     var lat = map.getCenter().lat();
     var lng = map.getCenter().lng();
     code.push("var point = new GLatLng(" + lat.toFixed(6) 
       + "," + lng.toFixed(6) + ");");
     code.push("var marker = new GMarker(point, {draggable:true});");

     for (var i = 0; i < eventNames.length; i++) {
       var eventAction = document.getElementById("event_"+eventNames[i]).value;
       if (eventAction != ""){
          code.push("GEvent.addListener(marker, '" + eventNames[i] + "', function() {"  
             + "<br/>" + eventAction + ";<br/>"
             + "});");
       }
     }

     code.push("map.addOverlay(marker);");
 
     var codeHTML = code.join("<br/><br/>");
     el("code").innerHTML = codeHTML;
     var codeJS = codeHTML.replace(/<br\/>/g,"\n");
     eval(codeJS);

     prettyPrint();
   }

   function el(id) {
     return document.getElementById(id);
   }

   //]]>
   </script>

 </head>

 <body onload="load()" onunload="GUnload()">

    
   <div id="selects" style="float:left; width:175px;">
   <code>click</code>:
   <select id="event_click" onchange="updateCode()">
       <option value=""></option>
       <option value="marker.openInfoWindow('hi!')" SELECTED>openInfoWindow('hi')</option>
       <option value="map.closeInfoWindow()">closeInfoWindow()</option>
       <option value="marker.setImage('blue.png')">setImage('blue.png')</option>
       <option value="marker.setImage('pink.png')">setImage('pink.png')</option>
       <option value="marker.setImage('green.png')">setImage('green.png')</option>
  </select>
   <code>dblclick</code>:
   <select id="event_dblclick" onchange="updateCode()">
       <option value="" SELECTED></option>
       <option value="marker.openInfoWindow('hi!')">openInfoWindow('hi')</option>
       <option value="map.closeInfoWindow()">closeInfoWindow()</option>
       <option value="marker.setImage('blue.png')">setImage('blue.png')</option>
       <option value="marker.setImage('pink.png')">setImage('pink.png')</option>
       <option value="marker.setImage('green.png')">setImage('green.png')</option>
  </select>
   <code>mousedown</code>:
   <select id="event_mousedown" onchange="updateCode()">
       <option value="" SELECTED></option>
       <option value="marker.openInfoWindow('hi!')">openInfoWindow('hi')</option>
       <option value="map.closeInfoWindow()">closeInfoWindow()</option>
       <option value="marker.setImage('blue.png')">setImage('blue.png')</option>
       <option value="marker.setImage('pink.png')">setImage('pink.png')</option>
       <option value="marker.setImage('green.png')">setImage('green.png')</option>
  </select>
   <code>mouseup</code>:
   <select id="event_mouseup" onchange="updateCode()">
       <option value="" SELECTED></option>
       <option value="marker.openInfoWindow('hi!')">openInfoWindow('hi')</option>
       <option value="map.closeInfoWindow()">closeInfoWindow()</option>
       <option value="marker.setImage('blue.png')">setImage('blue.png')</option>
       <option value="marker.setImage('pink.png')">setImage('pink.png')</option>
       <option value="marker.setImage('green.png')">setImage('green.png')</option>
  </select>
 </div>

   <div id="selects" style="float:left; width:175px;"> 
   <code>mouseover</code>:
   <select id="event_mouseover" onchange="updateCode()">
       <option value=""></option>
       <option value="marker.openInfoWindow('hi!')">openInfoWindow('hi')</option>
       <option value="map.closeInfoWindow()">closeInfoWindow()</option>
       <option value="marker.setImage('blue.png')" SELECTED>setImage('blue.png')</option>
       <option value="marker.setImage('pink.png')">setImage('pink.png')</option>
       <option value="marker.setImage('green.png')">setImage('green.png')</option>
  </select>
   <code>mouseout</code>:
   <select id="event_mouseout" onchange="updateCode()">
       <option value=""></option>
       <option value="marker.openInfoWindow('hi!')">openInfoWindow('hi')</option>
       <option value="map.closeInfoWindow()">closeInfoWindow()</option>
       <option value="marker.setImage('blue.png')">setImage('blue.png')</option>
       <option value="marker.setImage('pink.png')" SELECTED>setImage('pink.png')</option>
       <option value="marker.setImage('green.png')">setImage('green.png')</option>
  </select>

   <code>infowindowopen</code>:
   <select id="event_infowindowopen" onchange="updateCode()">
       <option value="" SELECTED></option>
       <option value="map.closeInfoWindow()">closeInfoWindow()</option>
       <option value="marker.setImage('blue.png')">setImage('blue.png')</option>
       <option value="marker.setImage('pink.png')">setImage('pink.png')</option>
       <option value="marker.setImage('green.png')">setImage('green.png')</option>
  </select>
   <code>infowindowclose</code>:
   <select id="event_infowindowclose" onchange="updateCode()">
       <option value="" SELECTED></option>
       <option value="marker.openInfoWindow('hi!')">openInfoWindow('hi')</option>
       <option value="marker.setImage('blue.png')">setImage('blue.png')</option>
       <option value="marker.setImage('pink.png')">setImage('pink.png')</option>
       <option value="marker.setImage('green.png')">setImage('green.png')</option>
  </select>
  </div>

   <div id="selects" style="float:left; width:175px;"> 
   <code>dragstart</code>:
   <select id="event_dragstart" onchange="updateCode()">
       <option value="" SELECTED></option>
       <option value="marker.openInfoWindow('hi!')">openInfoWindow('hi')</option>
       <option value="map.closeInfoWindow()">closeInfoWindow()</option>
       <option value="marker.setImage('blue.png')">setImage('blue.png')</option>
       <option value="marker.setImage('pink.png')">setImage('pink.png')</option>
       <option value="marker.setImage('green.png')">setImage('green.png')</option>
  </select>
   <code>drag</code>:
   <select id="event_drag" onchange="updateCode()">
       <option value="" SELECTED></option>
       <option value="marker.openInfoWindow('hi!')">openInfoWindow('hi')</option>
       <option value="map.closeInfoWindow()">closeInfoWindow()</option>
       <option value="marker.setImage('blue.png')">setImage('blue.png')</option>
       <option value="marker.setImage('pink.png')">setImage('pink.png')</option>
       <option value="marker.setImage('green.png')">setImage('green.png')</option>
  </select>
   <code>dragend</code>:
   <select id="event_dragend" onchange="updateCode()">
       <option value="" SELECTED></option>
       <option value="marker.openInfoWindow('hi!')">openInfoWindow('hi')</option>
       <option value="map.closeInfoWindow()">closeInfoWindow()</option>
       <option value="marker.setImage('blue.png')">setImage('blue.png')</option>
       <option value="marker.setImage('pink.png')">setImage('pink.png')</option>
       <option value="marker.setImage('green.png')">setImage('green.png')</option>
  </select>
   <code>remove</code>: <br>
   <select id="event_remove" onchange="updateCode()">
       <option value="" SELECTED></option>
       <option value="alert('you removed me')">alert('i was removed')</option>
  </select>
  </div>

  <br clear="all"/>
  <br/>
   <div id="map" style="width: 520px; clear:both; height: 200px"></div>
  <br/>
  <pre class="prettyprint" id="code" style="width:520px; height: 300px; overflow:auto;"></pre>

   </table>
 </body>
</html>
